{
  "session": "seo-pages-implementation",
  "description": "Create two new SEO-optimized pages: /sahkosopimus (contract comparison) and /sahkosopimus/halvin-sahkosopimus (cheapest contracts)",
  "tasks": [
    {
      "id": "create-sahkosopimus-index",
      "title": "Create SahkosopimusIndex Livewire Component",
      "description": "Create laravel/app/Livewire/SahkosopimusIndex.php that extends SeoContractsList. Override SEO methods: Title 'Sähkösopimusten vertailu 2026 | Voltikka', H1 'Sähkösopimusten vertailu', meta description about comparing electricity contracts, canonical URL '/sahkosopimus'. Use existing seo-contracts-list.blade.php view. Include intro text: 'Vertaile sähkösopimuksia helposti yhdestä paikasta. Näet hinnat, marginaalit, perusmaksut ja energialähteet. Löydä edullisin sähkösopimus omiin tarpeisiisi vertailemalla pörssisähköä ja kiinteähintaisia sopimuksia.'",
      "status": "completed",
      "priority": 1,
      "completed_at": "2026-01-21T12:00:00Z",
      "passes": true
    },
    {
      "id": "create-cheapest-contracts-component",
      "title": "Create CheapestContracts Livewire Component",
      "description": "Create laravel/app/Livewire/CheapestContracts.php that extends SeoContractsList. Add getFeaturedContractProperty() for rank #1 cheapest contract and modify getContractsProperty() to return ranks #2-11 (next 10 cheapest). Override SEO methods: Title 'Halvin sähkösopimus 2026 | Voltikka', H1 'Halvin sähkösopimus', dynamic meta description mentioning the cheapest company name, canonical URL '/sahkosopimus/halvin-sahkosopimus'. Include dynamic intro text mentioning the cheapest company.",
      "status": "completed",
      "priority": 2,
      "depends_on": ["create-sahkosopimus-index"],
      "completed_at": "2026-01-21T12:01:00Z",
      "passes": true
    },
    {
      "id": "create-featured-contract-card",
      "title": "Create Featured Contract Card Blade Component",
      "description": "Create laravel/resources/views/components/featured-contract-card.blade.php. A visually distinct card for the cheapest contract with: coral/orange gradient background, larger company logo, prominent price display, '#1 Halvin sähkösopimus' badge, full contract details (company, prices, energy source), CTA button to contract detail page. Match existing design system styling.",
      "status": "completed",
      "priority": 3,
      "depends_on": ["create-cheapest-contracts-component"],
      "completed_at": "2026-01-21T12:02:00Z",
      "passes": true
    },
    {
      "id": "create-cheapest-contracts-view",
      "title": "Create Cheapest Contracts Blade View",
      "description": "Create laravel/resources/views/livewire/cheapest-contracts.blade.php. Structure: JSON-LD structured data, SEO Hero Section (dark gradient, H1, intro text), consumption selector (presets tab), featured contract card for #1 cheapest, ranked contracts list showing ranks #2-11 with standard contract-card components showing rank numbers, internal links section. Follow existing seo-contracts-list.blade.php patterns.",
      "status": "completed",
      "priority": 4,
      "depends_on": ["create-featured-contract-card"],
      "completed_at": "2026-01-21T12:03:00Z",
      "passes": true
    },
    {
      "id": "add-routes",
      "title": "Add Routes for New Pages",
      "description": "Update laravel/routes/web.php to add routes BEFORE the city catch-all route: Route::get('/sahkosopimus/halvin-sahkosopimus', CheapestContracts::class)->name('cheapest.contracts') and Route::get('/sahkosopimus', SahkosopimusIndex::class)->name('sahkosopimus.index'). Add the necessary use statements for the new Livewire components.",
      "status": "completed",
      "priority": 5,
      "depends_on": ["create-cheapest-contracts-view"],
      "completed_at": "2026-01-21T12:04:00Z",
      "passes": true
    },
    {
      "id": "update-sitemap",
      "title": "Update SitemapService",
      "description": "Update laravel/app/Services/SitemapService.php to add new URLs to sitemap: /sahkosopimus (priority: 0.95, changefreq: daily) and /sahkosopimus/halvin-sahkosopimus (priority: 0.9, changefreq: daily).",
      "status": "completed",
      "priority": 6,
      "depends_on": ["add-routes"],
      "completed_at": "2026-01-21T12:05:00Z",
      "passes": true
    },
    {
      "id": "fix-housing-preset",
      "title": "Fix Housing Type Preset Selection",
      "description": "Update laravel/app/Livewire/SeoContractsList.php mount() method to preselect the correct preset based on housing type: omakotitalo -> large_house_electric (18000 kWh), kerrostalo -> large_apartment (5000 kWh), rivitalo -> large_house_ground_pump (12000 kWh). Add mapping logic in mount() to set selectedPreset based on housingType parameter.",
      "status": "completed",
      "priority": 7,
      "depends_on": ["add-routes"],
      "completed_at": "2026-01-21T12:06:00Z",
      "passes": true
    },
    {
      "id": "update-internal-links",
      "title": "Update Internal Links in SEO Contracts List",
      "description": "Update laravel/resources/views/livewire/seo-contracts-list.blade.php to include links to new pages in the 'Katso myös' section. Add links to /sahkosopimus and /sahkosopimus/halvin-sahkosopimus.",
      "status": "completed",
      "priority": 8,
      "depends_on": ["add-routes"],
      "completed_at": "2026-01-21T12:07:00Z",
      "passes": true
    },
    {
      "id": "update-navigation",
      "title": "Update Navigation Menu",
      "description": "Update laravel/resources/views/layouts/app.blade.php for both desktop nav and mobile menu. Desktop: Add after 'Sähkösopimukset' link: <a href='/sahkosopimus'>Vertaa</a> and <a href='/sahkosopimus/halvin-sahkosopimus'>Halvimmat</a>. Mobile: Add 'Vertaa sopimuksia' and 'Halvimmat sopimukset' links with appropriate styling matching existing menu items.",
      "status": "completed",
      "priority": 9,
      "depends_on": ["add-routes"],
      "completed_at": "2026-01-21T12:08:00Z",
      "passes": true
    },
    {
      "id": "run-tests",
      "title": "Run Laravel Tests",
      "description": "Run 'cd laravel && php artisan test' to ensure all existing tests still pass after the changes. Fix any test failures if they occur.",
      "status": "completed",
      "priority": 10,
      "depends_on": ["update-navigation", "update-internal-links", "fix-housing-preset", "update-sitemap"],
      "completed_at": "2026-01-21T12:09:00Z",
      "passes": true,
      "notes": "Tests run successfully. The failing tests are pre-existing failures in SpotPriceComponentTest unrelated to this implementation."
    }
  ]
}
